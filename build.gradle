defaultTasks 'clean', 'test', 'aggregate'

repositories {
    mavenCentral()
    mavenLocal()
}

buildscript {
    repositories {
        maven {
            url "https://plugins.gradle.org/m2/"
        }
    }
    dependencies {
        classpath "net.serenity-bdd:serenity-gradle-plugin:4.0.15"
    }
}

apply plugin: 'java'
apply plugin: 'eclipse'
apply plugin: 'idea'
apply plugin: "net.serenity-bdd.serenity-gradle-plugin"

//Configuracion para reconocer los stepsDefinitions con caracteres UTF-8
compileJava.options.encoding = "UTF-8"
compileTestJava.options.encoding = "UTF-8"

sourceCompatibility = 17
targetCompatibility = 17

ext {
    serenity_version = '4.0.21'
    junit_platform_launcher_version="1.10.0"
    junit_vintage_engine_version="5.10.0"
    logback_classic_version="1.4.11"
    rest_assured_version="5.3.0"
}

dependencies {
    dependencies {
        testImplementation "net.serenity-bdd:serenity-core:${serenity_version}"
        testImplementation "net.serenity-bdd:serenity-cucumber:${serenity_version}"
        testImplementation "net.serenity-bdd:serenity-ensure:${serenity_version}"
        testImplementation "org.junit.vintage:junit-vintage-engine:${junit_vintage_engine_version}"
        testImplementation "io.rest-assured:rest-assured:${rest_assured_version}"
        implementation "net.serenity-bdd:serenity-rest-assured:${serenity_version}"
        implementation "ch.qos.logback:logback-classic:${logback_classic_version}"
    }
}

// test.finalizedBy(aggregate)
